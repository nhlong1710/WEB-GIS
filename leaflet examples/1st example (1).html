<html>
<head>

	<title>1st leaflet - Leaflet</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
	integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>

	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
	integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin="">
  </script>

</head>
<body>

	<div id="mapid" style="width: 1300px; height: 600px;"></div>

	<!-- <script>
		// biến chứa bản đồ, L la viet tat cua leaf let , setView chuyển cái diểm cta nhìn thấy đầu tiên  , 20 là mức độ zoom
		var mymap = L.map('mapid').setView([21.07204051307818, 105.7739627412891], 20);

		// Bản đồ nền
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(mymap);

		var HUMG = L.icon({
			iconUrl:'/HUMG1.png',
			iconSize: [38,65],
			iconAnchor : [22,94],
			popupAnchor:[-3,-15]
		});
		//Điểm
		L.marker([21.07204051307818, 105.7739627412891],{icon:HUMG}).addTo(mymap)
			.bindPopup("<b>Hello HUMG!</b><br />I am a popup.").openPopup();

		// Đường
		var line = L.polyline([
	             [21.07186971971953, 105.7741656871162],
	             [21.07166850241241, 105.7749656871162]]
						 ).addTo(mymap).bindPopup("<b>Hello Line!</b><br />I am a popup.");
		line.setStyle({color:"purple"});
		//Vùng
		var ht300 = L.polygon([
			[21.07166471971953, 105.7742656871162],
			[21.07166550241241, 105.7744247091854],
			[21.07173567512403, 105.7742659821129]
		]).addTo(mymap).bindPopup("Hoi Truong 300");
		ht300.setStyle({fillColor:'red',color:'green',weight:'5'});

		var nhaA = L.polygon([
			[21.072041, 105.773626],
			[21.072046, 105.77435],
			[21.071946, 105.774361],
			[21.071931, 105.773631]
				]).addTo(mymap).bindPopup("Nha A");
		nhaA.setStyle({fillColor:'red' , color : "green", weight : 5});


		var popup = L.popup();
		function onMapClick(e) {
				popup
				.setLatLng(e.latlng)
				.setContent("You clicked the map at " + e.latlng.toString())
				.openOn(mymap);
		}

		mymap.on('click', onMapClick);

		function getLocation(){
		if (navigator.geolocation)
			navigator.geolocation.getCurrentPosition(showPosition);
		else{
			x.innerHTML = "Geolocation is not supported by this browser";
		}
		}
		function showPosition(position)
		{
			L.marker([position.coords.latitude,position.coords.longitude]).addTo(mymap)
				.bindPopup("<b> I am here! </b>").openPopup();
		}
	</script>
	<button onclick="getLocation()">Where am i?</button> -->
	<script src="data1.geojson" type="text/javascript"></script>
	<script>
		var mymap = L.map('mapid').setView([21.07204051307818, 105.7739627412891], 20);
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(mymap);
		L.geoJSON(HUMGPoint).addTo(mymap);
		L.geoJSON(myLines).addTo(mymap);


		function createCustomIcon(feature,latlng){
			let HUMG = L.icon({
			iconUrl:'/HUMG1.png',
			iconSize: [38,65],
			iconAnchor : [22,94],
			popupAnchor:[-3,-15]
		});
		return L.marker(latlng,{icon:HUMG})
		}
		let myLayerOptions ={
			pointToLayer: createCustomIcon
		}
		L.geoJSON(HUMGPoint,myLayerOptions).addTo(mymap)

	</script>

</body>
</html>
